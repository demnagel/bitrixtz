Пример реализации задачи для списка сравниваемых товаров, вариант только для зарегистрированных пользователей.

Компонент и сопутствующий код позволяют добавлять/удалять товары для сравнения. Есть возможность определять находится ли товар в списке для сравнения или нет, 
выводить общее кол-во таких товаров, выводить список самих товаров. Имеющийся шаблон для вывода блока с кол-вом товаров на странице.
Чтобы добавить/удалить товар достаточно "выбросить" событе с параметрами ( BX.onCustomEvent(window, 'comparsion_products_change', ['delProduct', 4295173]); )
